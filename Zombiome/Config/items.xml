<configs>

 <!-- <set xpath="/materials/material[@id='Mwater']/property[@name='stability_glue']/@value">50</set> -->

<!-- // <effect_group name="meleeStunBaton"> <triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="other" buff="buffShocked"> -->


<!-- <set xpath="/items/items[@name='meleeStunBaton']/property[@name='EconomicValue']/@value">"18"</set>
<set xpath="/items/items[@name='meleeStunBaton']/effect_group[@name='meleeStunBaton']/passive_effect[@name='EntityDamage']/@value">"78.1"</set>
<set xpath="/items/items[@name='meleeStunBaton']/effect_group[@name='meleeStunBaton']/triggered_effect[@trigger='onSelfDamagedOther'][@action='AddBuff']/@buff">"buffBurningZombie"</set>
 -->



<append xpath="/items">
  <!-- 
  ======================================================================
  ======================================================================
  ==============================  PROJECTILES  ========================= MyItemClassTimeBomb, Mods
  -->

  <item name="ZBProjectile">
    <property name="Tags" value="ammo,weapon"/>
    <property name="Class" value="ItemClassTimeBomb"/>
    <!-- ITEM -->
    <property name="ItemTypeIcon" value="explosion"/>
    <property name="DisplayType" value="ammoGrenadeFire"/>
    <property name="Meshfile" value=""/>
    <property name="Material" value="Mstone"/> <!-- determines "goreblock/remain" -->
    <property name="Weight" value="1"/> <!-- For bag carry only ? or Projectile Physics ? -->
    <property name="FuelValue" value="0"/>
    <property name="Stacknumber" value="20"/>
    <property name="EconomicValue" value="41"/>
    <property name="Group" value="Ammo/Weapons"/>
    <!-- Finally found the invisible combination -->
    <!-- Projectile -->
    <property name="HoldType" value="0"/>
    <!-- <property name="ThrowableDecoy" value="true"/>     -->
    <property name="ActivateObject" value="lightSource"/>
    <property name="AlwaysActive" value="true"/>
    <property name="FuseTime" value="20000"/>
    <property name="FuseStartOnDrop" value="false"/>
    <property name="ExplodeOnHit" value="true"/>
    <!-- Keep Action for testing -->
    <property class="Action0">
      <property name="Class" value="ThrowAway"/>
      <property name="Delay" value="1.2"/>
      <property name="Throw_strength_default" value="20"/>
      <property name="Throw_strength_max" value="50"/>
      <property name="Max_strain_time" value="1.25"/> <!-- "Max_strain_time": remplissage barre quand lancé -->
      <property name="Sound_start" value="swoosh"/>
      <!-- <property name="Gravity" value="0.01"/> not used ? moreover not by dropped item ?
      <property name="Velocity" value="100.0"/> -->
      <requirement name="CVarCompare" cvar="_underwater" operation="LT" value=".98"/>
    </property>
  </item>


  <item name="ZBProjInvisible">
    <property name="Tags" value="ammo,weapon"/>
    <property name="Class" value="ItemClassTimeBomb"/>
    <!-- ITEM -->
    <property name="ItemTypeIcon" value="explosion"/>
    <property name="DisplayType" value="ammoGrenadeFire"/>
    <property name="Meshfile" value=""/>
    <property name="Material" value="Mstone"/> <!-- determines "goreblock/remain" -->
    <property name="Weight" value="1"/> <!-- For bag carry only ? or Projectile Physics ? -->
    <property name="FuelValue" value="0"/>
    <property name="Stacknumber" value="20"/>
    <property name="EconomicValue" value="41"/>
    <property name="Group" value="Ammo/Weapons"/>
    <!-- Finally found the invisible combination -->
    <property name="Meshfile" value="#Other/Items?Misc/snowballPrefab.prefab"/>
    <property name="HandMeshfile" value="#Other/Items?Misc/snowball_FP_Prefab.prefab"/>
    <property name="DropMeshfile" value="#Other/Items?Misc/snowballPrefab.prefab"/>
    <property name="DropScale" value="0.2"/>
    <!-- Projectile -->
    <property name="HoldType" value="0"/>
    <!-- <property name="ThrowableDecoy" value="true"/>     -->
    <property name="ActivateObject" value="lightSource"/>
    <property name="AlwaysActive" value="true"/>
    <property name="FuseTime" value="20000"/>
    <property name="FuseStartOnDrop" value="false"/>
    <property name="ExplodeOnHit" value="true"/>
    <!-- Keep Action for testing -->
    <property class="Action0">
      <property name="Class" value="ThrowAway"/>
      <property name="Delay" value="1.2"/>
      <property name="Throw_strength_default" value="20"/>
      <property name="Throw_strength_max" value="50"/>
      <property name="Max_strain_time" value="1.25"/> <!-- "Max_strain_time": remplissage barre quand lancé -->
      <property name="Sound_start" value="swoosh"/>
      <!-- <property name="Gravity" value="0.01"/> not used ? moreover not by dropped item ?
      <property name="Velocity" value="100.0"/> -->
      <requirement name="CVarCompare" cvar="_underwater" operation="LT" value=".98"/>
    </property>
  </item>

    <!-- LIGHT -->
    <!-- <property name="LightValue" value=".35"/> -->
    <!-- <property name="LightSource" value="lightSource"/> -->
    <!-- <property name="ActivateObject" value="lightSource"/> -->
    <!-- <property name="AlwaysActive" value="true"/> -->

    <!-- EXPLOSION -->
    <!-- <property name="Explosion.ParticleIndex" value="10"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.DamageBonus.stone" value=".1"/>
    <property name="Explosion.DamageBonus.metal" value="0"/>
    <property name="Explosion.DamageBonus.earth" value="0"/>
    <property name="Explosion.DamageBonus.water" value="0"/>
    <property name="Explosion.DamageBonus.wood" value="6"/> -->
    <!-- <effect_group tiered="false">  -->
      <!-- <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="2.7" buff="buffBurningMolotov"/> -->
      <!-- <passive_effect name="BlockDamage" operation="base_set" value="5"/> -->
      <!-- <display_value name="dExDamageBlock" value="5"/> -->
      <!-- <display_value name="dExDamageFire" value="250"/> -->
      <!-- <passive_effect name="EntityDamage" operation="base_set" value="5"/> -->
      <!-- <display_value name="dExDamageEntity" value="5"/> -->
      <!-- <display_value name="dExRadius" value="3"/> -->
      <!-- <display_value name="dDuration" value="16"/> -->
      <!-- <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="rockBomb" rep="10" dt="1000"/>       -->
    <!-- </effect_group> -->

      <!-- 20 * FuseTime -> explodeAfterTicks, null seems be handled -->
    <!-- ExplodeOnHit ill have the boulder rotate quickly in place ... and no explosion, TODO: we just need fuse time I guess
    I should refer directly to an item whose ParticleIndex is read from xml -->
    <!-- <property name="FuseTime" value="20000"/> -->

  <!-- ======================================================================
  ==================  Proj - Environment Effect  ============================
  ==================  fires, colored smokes       ======= -->
  <item name="ZBProj_fire">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
    <property name="Explosion.ParticleIndex" value="10"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="5"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="2.7" buff="buffBurningMolotov"/>
      </effect_group>
  </item>
  <item name="ZBProj_spark">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mmetal"/>
    <property name="Explosion.ParticleIndex" value="12"/>
    <property name="DamageEntity" value="5"/><property name="Explosion.RadiusEntities" value="1"/>
		<property name="DamageBlock" value="50"/><property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.BlastPower" value="35"/>
    <effect_group tiered="false">
        <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="3.0" buff="buffCharged0"/>
        <triggered_effect trigger="onProjectileImpact" action="Eject, Mods" target="positionAOE" range="3.0" checkothers="false" strength="0.5"/>	
    </effect_group>
  </item>
  <item name="ZBProj_boom">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
    <property name="Explosion.ParticleIndex" value="2"/>
    <property name="DamageEntity" value="20"/><property name="Explosion.RadiusEntities" value="3"/>
		<property name="DamageBlock" value="240"/><property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.BlastPower" value="5"/>
    <property name="Explosion.DamageBonus.wood" value="10"/>
  </item>
  <item name="ZBProj_boomy">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
    <property name="Explosion.ParticleIndex" value="5"/>
    <property name="DamageEntity" value="20"/><property name="Explosion.RadiusEntities" value="3"/>
		<property name="DamageBlock" value="240"/><property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.BlastPower" value="5"/>
    <property name="Explosion.DamageBonus.wood" value="10"/>
  </item> 
  <item name="ZBProj_boomr">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
    <property name="Explosion.ParticleIndex" value="3"/>
    <property name="DamageEntity" value="20"/><property name="Explosion.RadiusEntities" value="3"/>
		<property name="DamageBlock" value="240"/><property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.BlastPower" value="5"/>
    <property name="Explosion.DamageBonus.wood" value="10"/>
  </item> 

  <!-- for ghost -->
  <item name="ZBProj_impact">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
    <property name="DamageEntity" value="5"/><property name="Explosion.RadiusEntities" value="2"/>
		<property name="DamageBlock" value="100"/> <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.ParticleIndex" value="1"/>
    <property name="Explosion.BlastPower" value="5"/>
    <effect_group tiered="false"> 
        <triggered_effect trigger="onProjectileImpact" action="Eject, Mods" target="positionAOE" range="4.0" checkothers="false" strength="2.0"/>	
    </effect_group>
  </item>

  <item name="ZBProj_eject">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
		<property name="DamageBlock" value="100"/> <property name="Explosion.RadiusBlocks" value="2"/>
    <effect_group tiered="false"> 
        <triggered_effect trigger="onProjectileImpact" action="Eject, Mods" target="positionAOE" range="5.0" checkothers="false" strength="1.5"/>	
        <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" particle="treeGib_birch_small" dt="100" rep="2"/>
    </effect_group>
  </item>
  <item name="ZBProj_ragdoll">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
		<property name="DamageBlock" value="100"/> <property name="Explosion.RadiusBlocks" value="2"/>
    <effect_group tiered="false">
        <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="5.0" buff="buffRagdoll">
          <requirement name="OnGroundRequirement, Mods"/>
        </triggered_effect>
        <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" particle="treeGib_birch_small" dt="100" rep="2"/>
    </effect_group>
  </item>

<item name="ZBProj_fireHuman">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mstone"/>
    <property name="Explosion.ParticleIndex" value="10"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="5"/>
    <property name="Explosion.DamageBonus.wood" value="6"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuffTyped, Mods" target="positionAOE" range="2.7"
              buff="buffBurningMolotov,buffZBFiring,buffZBFiring,"/>
      </effect_group>
  </item>

  <item name="ZBProj_smoke">
    <property name="Extends" value="ZBProjInvisible"/> 
    <property name="Explosion.RadiusBlocks" value="1"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" particle="big_smoke" dt="100" rep="5"/>
    </effect_group>
  </item>


  <item name="ZBProj_freeze">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Msnow"/> 
    <property name="Replicates" value="3"/> 
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="3" buff="buffZBFrozen"/>
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" dt="100" rep="1"
                        particle="treeGib_small_dust" offset="-1,0,-1" rpos="2,2,2"
                        color="0.5,0.7,0.99,0.2" rcol="0.1,0.1,0.1"/>
    </effect_group>
  </item>

  <item name="ZBProj_poison">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Msnow"/> 
    <property name="Replicates" value="3"/> 
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="3" buff="buffZBPoison"/>
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" dt="100" rep="1" 
                        particle="treeGib_small_dust" offset="-1,0,-1" rpos="2,2,2"
                        color="0.2,0.9,0.15,0.7" rcol="0.1,0.1,0.1"/>
    </effect_group>
  </item>

  <item name="ZBProj_sand">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Msand"/>
    <property name="Replicates" value="3"/> 
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="3" buff="buffZBBlinded"/>
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" dt="100" rep="1"
                        particle="treeGib_small_dust" offset="-1,0,-1" rpos="2,2,2"
                        color="0.7,0.5,0.2,0.6" rcol="0.1,0.1,0.1"/>
    </effect_group>
  </item>

  <item name="ZBProj_electric">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mwater"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="5"/>
    <property name="Replicates" value="3"/> 
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="2.7" buff="buffCharged0"/>
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" dt="100" rep="1"
                        particle="treeGib_small_dust" offset="-1,0,-1" rpos="2,2,2"
                        color="0.8,0.11,0.8,0.6" rcol="0.1,0.1,0.1"/>
    </effect_group>
  </item>

  <item name="ZBProj_radiating">
    <property name="Extends" value="ZBProjInvisible"/>
    <property name="Material" value="Mwater"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="35"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="positionAOE" range="2.7" buff="buffRadiated0"/>
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" dt="100" rep="1"
                        particle="treeGib_small_dust" offset="-1,0,-1" rpos="2,2,2"
                        color="0.8,0.8,0.11,0.6" rcol="0.1,0.1,0.1"/>
    </effect_group>
  </item>



  <!-- ======================================================================
  ==================  Proj - Trees  ========================  ======= --> 
  <!-- NB: spawning particle (finite) manually could avoid heat gen (and Zs attention) ! -->
  <!-- could create shortcut to load relevant of other item/block : Meshfile, SpawnAt  -->
  <!-- wind / proj: add random rotation to spawnat ? -->

  <item name="ZBProj_treeShrub"> <!--  Souche -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodSmall"/>
    <property name="Meshfile" value="#Entities/Trees?Prefabs/Stump.prefab"/>
    <property name="Weight" value="40"/>
    <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="20"/>
    <property name="Explosion.BlockDamage" value="400"/>
    <property name="Explosion.EntityDamage" value="10"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="treeGib_birch_6m"/>
      <!-- <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="ZBProj_treeShrub" rep="3" dt="1000"/>       -->
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeStump" dt="100"/>
      <!-- FIXME il spawn un peu trop haut et n'aderhe pas ! Managed by <property name="ModelOffset" value="0,0,0"/> ?
      Sometimes working, depends if block below can support, and is destroyed by explo
      I should go to surface and destroy small decos

      TODO: spawn: can I give random rotations ?
      -->
    </effect_group>
  </item>

 
  <item name="ZBProj_treeCactus03">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodSmall"/>
    <property name="Meshfile" value="#Entities/Trees?Saguaro_Cactus_13Prefab.prefab"/>
    <property name="Weight" value="20"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="20"/>
    <property name="Explosion.BlockDamage" value="200"/>
    <property name="Explosion.EntityDamage" value="10"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_burnt_small"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeCactus03" dt="100"/>
    </effect_group>
  </item>

  <!-- SAME MECH issue -->
  <item name="ZBProj_driftwood">
    <property name="Stacknumber" value="1"/>
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodSmall"/>
    <property name="Meshfile" value="Plants/driftwood"/>
    <property name="DropMeshfile" value="Plants/driftwood"/>
    <!-- <property name="Explosion.ParticleIndex" value="1"/> -->
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="1"/>
    <property name="Explosion.BlockDamage" value="500"/>
    <property name="Explosion.EntityDamage" value="20"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_burnt_small"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="driftwood" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeDeadTree01">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodLarge"/>
    <property name="Meshfile" value="#Entities/Trees?White_Oak22Prefab.prefab"/>
    <property name="Weight" value="40"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="30"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="20"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="treeGib_dead_01"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeDeadTree01" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeOakSml01">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodSmall"/>
    <property name="Meshfile" value="#Entities/Trees?OakSml01Prefab.prefab"/>
    <property name="Weight" value="30"/>
    <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="20"/>
    <property name="Explosion.BlockDamage" value="500"/>
    <property name="Explosion.EntityDamage" value="10"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="treeGib_small_dust"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeOakSml01" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeOakLrg01">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodFull"/>
    <property name="Meshfile" value="#Entities/Trees?OakLrg01Prefab.prefab"/>
    <property name="Weight" value="50"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="30"/>
    <property name="Explosion.BlockDamage" value="1500"/>
    <property name="Explosion.EntityDamage" value="40"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="ZBProj_treeShrub" rep="1" dt="1000"/>
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_maple_17m"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeOakLrg01" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treePlantedOak41m">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodFull"/>
    <property name="Meshfile" value="#Entities/Trees?OakLrg01Prefab.prefab"/>
    <property name="Weight" value="60"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="4"/>
    <property name="Explosion.BlastPower" value="40"/>
    <property name="Explosion.BlockDamage" value="1500"/>
    <property name="Explosion.EntityDamage" value="50"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="ZBProj_treeShrub" rep="1" dt="1000"/>
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treefall"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treePlantedOak41m" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treePlainsTree">  <!-- shrubbery, working mesh ! -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodLarge"/>
    <property name="Meshfile" value="#Entities/Trees?SnakeweedPrefab.prefab"/>
    <property name="Weight" value="10"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="1"/>
    <property name="Explosion.BlockDamage" value="10"/>
    <property name="Explosion.EntityDamage" value="2"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_sapling"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treePlainsTree" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeMountainPine12m"> 
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodLarge"/>
    <property name="Meshfile" value="#Entities/Trees?MountainPineSml01Prefab.prefab"/>
    <property name="Weight" value="30"/>
    <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="30"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="30"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_maple_13m"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeMountainPine12m" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeWinterPine13m">  <!-- shrubbery -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodSmall"/>
    <property name="Meshfile" value="#Entities/Trees?Blue_Spruce45Prefab.prefab"/>
    <property name="Weight" value="40"/>
    <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="30"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="30"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_winter01"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeWinterPine13m" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeWinterPine28m">  <!-- shrubbery -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodFull"/>
    <property name="Meshfile" value="#Entities/Trees?Blue_Spruce66Prefab.prefab"/>
    <property name="Weight" value="50"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="30"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_winter03"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeWinterPine28m" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeWinterPine28m">  <!-- shrubbery -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodFull"/>
    <property name="Meshfile" value="#Entities/Trees?Blue_Spruce66Prefab.prefab"/>
    <property name="Weight" value="50"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="30"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treeGib_winter03"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeWinterPine28m" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_treeBurntMaple01">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodFull"/>
    <property name="Meshfile" value="#Entities/Trees?Haunted_Tree_Wasteland25Prefab.prefab"/>
    <property name="Weight" value="50"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="20"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="treeGib_burnt_small"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeBurntMaple01" dt="100"/>
    </effect_group>
  </item>
  <item name="ZBProj_treeBurntMaple03">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="MtreeWoodFull"/>
    <property name="Meshfile" value="#Entities/Trees?Haunted_Tree_Wasteland42Prefab.prefab"/>
    <property name="Weight" value="50"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="3"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.BlockDamage" value="1000"/>
    <property name="Explosion.EntityDamage" value="20"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="treeGib_burnt_small"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="treeBurntMaple03" dt="100"/>
    </effect_group>
  </item>




<!-- <block name="treeGrassMaster">
	<property name="CreativeMode" value="None"/>
	<property name="DescriptionKey" value="plantsBlockGroupDesc"/>
	<property name="CustomIcon" value="treeForestGrassDiagonal"/>
	<property name="Class" value="Deadgrass"/>
	<property name="Material" value="Mtallgrass"/>
	<property name="StabilitySupport" value="false"/>
	<property name="Shape" value="Grass"/>
	<property name="Mesh" value="grass"/>
	<property name="Texture" value="350,368,369,370,350,368"/>
	<property name="ImposterDontBlock" value="true"/>
	<property name="Collide" value="melee"/>
	<property name="CanDecorateOnSlopes" value="true"/>
	<property name="IsTerrainDecoration" value="true"/>
	<property name="IsDecoration" value="true"/>
	<property name="HarvestOverdamage" value="false"/>
	<drop event="Harvest" name="resourceYuccaFibers" count="2" tag="allHarvest"/>
	<drop event="Destroy" count="0"/>
	<drop event="Fall" name="resourceYuccaFibers" count="0" prob="1" stick_chance="0"/>
	<property name="FilterTags" value="foutdoor,fshrubbery"/>
	<property name="SortOrder1" value="a030"/>
	<property name="SortOrder2" value="0002"/>
</block> -->

<!-- <block name="treeTallGrassDiagonal">
	<property name="Extends" value="treeGrassMaster" param1="CustomIcon"/>
	<property name="CreativeMode" value="Player"/>
	<property name="Class" value="Tallgrass"/>
	<property name="Texture" value="39,40,364,365,39,364"/>
</block> -->

<!-- is it connected to <property name="Shape" value="ModelEntity"/> ? -->
<!-- OK for item with block mesh of an entity model (rock_resourcePrefab is a <Model> in blocks.xml)  -->
<!-- <item name="ammo9mmBulletBall">
	<property name="Tags" value="ammo"/>
	<property name="DisplayType" value="ammoBullet"/>
	<property name="HoldType" value="45"/>
	<property name="Meshfile" value="#Other/Items?Misc/sackPrefab.prefab"/>
	<property name="DropMeshfile" value="#Other/Items?Misc/sack_droppedPrefab.prefab"/> -->


<!-- <block name="rock01">
	<property name="CreativeMode" value="Player"/>
	<property name="Material" value="Mstone"/>
	<property name="MaxDamage" value="1"/>
	<property name="StabilitySupport" value="false"/> 
	<property name="Shape" value="New"/> <property name="Texture" value="175"/>
	<property name="Mesh" value="cutoutmoveable"/>
	<property name="Model" value="rock01"/>
	<property name="OnlySimpleRotations" value="true"/>
	<property name="ImposterDontBlock" value="true"/>
	<property name="IsTerrainDecoration" value="true"/>
	<property name="CanPickup" value="true" param1="resourceRockSmall"/>
	<property name="Collide" value="melee,bullet,arrow,rocket"/>
	<drop event="Destroy" name="resourceRockSmall" count="1"/>
	<property name="FilterTags" value="foutdoor"/>
</block> -->

<!-- treeSnowyGrassDiagonal,treeBrownGrassDiagonal,treeTallGrassDiagonal,treeDesertShrub,
treeForestGrassDiagonal,treeGreenBrownGrassDiagonal,forestFlower, plantedtreeGrassSeed1 -->
  <item name="ZBProjGrass">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="Mtallgrass"/>
    <!-- <property name="Shape" value="Grass"/> -->
    <property name="Shape" value="New"/>
    <property name="Mesh" value="grass"/>
    <!-- <property name="Mesh" value="grass"/> -->
    <!-- in item, MeshFile and DropMeshFile -->
    <!-- DropMeshfile -->
    <property name="Stacknumber" value="1"/>
    <property name="Meshfile" value="grass"/>
    <property name="Canhold" value="true"/>
    <property name="Candrop" value="true"/>
    <property name="DropMeshfile" value="grass"/>
    <property name="Texture" value="350,368,369,370,350,368"/>
    <!-- <property name="Meshfile" value="rock01"/>      -->
  </item>


  <!-- ======================================================================
  ==================  Proj - ROCKS  ============================ --> 
  <!-- NB: spawning particle (finite) manually could avoid heat gen (and Zs attention) ! -->
  <!-- could create shortcut to load relevant of other item/block : Meshfile, SpawnAt  -->
  <!-- wind / proj: add random rotation to spawnat ? -->

  <item name="rockFragment">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="Mstone"/>
    <property name="Meshfile" value="rock05"/>
    <property name="Weight" value="5"/>
    <property name="Explosion.ParticleIndex" value="1"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="10"/>
    <property name="Explosion.BlockDamage" value="500"/>
	  <property name="Explosion.EntityDamage" value="20"/>
  </item>
 
  <item name="ZBProj_rockResource">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="Mstone"/>
    <property name="Meshfile" value="Entities/Resources/rock_resourcePrefab"/>
    <property name="Weight" value="100"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="5"/>
    <property name="Explosion.BlockDamage" value="500"/>
    <property name="Explosion.EntityDamage" value="20"/>
    <effect_group tiered="false"> 
      <!-- <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="rockFragment" rep="4" dt="500"/> -->
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treefall"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="rockResourceBroke1" dt="100"/>
    </effect_group>
  </item>

  <item name="ZBProj_rockSmall">
    <property name="info" value="image of oreLeadBoulder, should drop stone ?"/>
    <property name="Extends" value="ZBProjectile"/>
    <property name="Material" value="Mstone"/>
    <property name="Meshfile" value="Entities/Resources/oreLeadBoulderPrefab"/>
    <property name="Weight" value="40"/>
    <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.BlockDamage" value="1500"/>
    <property name="Explosion.EntityDamage" value="35"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="rockFragment" rep="2" dt="500"/>
      <triggered_effect trigger="onSelfBuffUpdate" action="ParticlesAtEntity, Mods" particle="p_treefall"/>
    </effect_group>
  </item>

  <!-- meteoreSmall is not small enough -->

  <item name="meteoreIron"> <!-- OK for item with block mesh of an entity model (rock_resourcePrefab is a <Model> in blocks.xml)  -->
    <property name="Extends" value="ZBProjectile"/>
    <!-- <property name="Meshfile" value="Entities/Resources/rock_resource02Prefab"/> -->
    <property name="Meshfile" value="Entities/Resources/oreIronBoulderPrefab"/>
    <property name="Weight" value="20"/>
    <property name="LightValue" value=".8"/>
    <property name="LightSource" value="lightSource"/>
    <property name="ActivateObject" value="lightSource"/>
    <property name="AlwaysActive" value="true"/>
    <property name="Explosion.ParticleIndex" value="4"/>
    <property name="Explosion.RadiusBlocks" value="4"/>
    <property name="Explosion.RadiusEntities" value="4"/>
    <property name="Explosion.BlastPower" value="20"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" particle="blockdestroy_boulder" dt="100" rep="1"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="rockFragment" rep="3" dt="1000"/>
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="oreIronBoulder" dt="100"/>
    </effect_group>
  </item>

  <item name="meteoreStone"> <!-- OK for item with block mesh of an entity model (rock_resourcePrefab is a <Model> in blocks.xml)  -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Meshfile" value="Entities/Resources/rock_resourcePrefab"/>
    <property name="Weight" value="50"/>
    <property name="LightValue" value=".8"/>
    <property name="LightSource" value="lightSource"/>
    <property name="ActivateObject" value="lightSource"/>
    <property name="AlwaysActive" value="true"/>
    <property name="Explosion.ParticleIndex" value="4"/>
    <property name="Explosion.RadiusBlocks" value="8"/>
    <property name="Explosion.RadiusEntities" value="8"/>
    <property name="Explosion.BlastPower" value="50"/>

    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="rockFragment" rep="5" dt="200"/> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="rockResource,rockResourceBroke1,rockResourceBroke2" dt="100"/>
      <triggered_effect trigger="onProjectileImpact" action="ParticlesAtPos, Mods" particle="blockdestroy_boulder" dt="100" rep="1"/>
    </effect_group>
  </item>


  <item name="woodSpikes">
    <property name="Extends" value="ZBProjectile"/>
    <property name="Meshfile" value="Traps/trap_wood_spikes_dmg0" param1="main_mesh"/>
    <property name="Stacknumber" value="1"/>
    <property name="DropMeshfile" value="Traps/trap_wood_spikes_dmg0"/>
    <!-- <property name="Meshfile" value="Traps/trap_wood_spikes_dmg0"/> -->
    <property name="Weight" value="50"/>
    <property name="LightValue" value=".8"/>
    <property name="LightSource" value="lightSource"/>
    <property name="ActivateObject" value="lightSource"/>
    <property name="AlwaysActive" value="true"/>
    <property name="Explosion.ParticleIndex" value="1"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="10"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="trapSpikesWoodDmg0,trapSpikesWoodDmg1,trapSpikesWoodDmg2" dt="100"/>
    </effect_group>
  </item>
  <!-- trapSpikesWoodDmg0 0 is full Vs 1, 2 damaged TODO: list of in ImpactSpawn-->

  <item name="ironSpikes"> <!-- OK for item with block mesh of an entity model (rock_resourcePrefab is a <Model> in blocks.xml)  -->
    <property name="Extends" value="ZBProjectile"/>
    <property name="Meshfile" value="Traps/trap_iron_spikes_dmg1" param1="main_mesh"/>
    <!-- <property name="Meshfile" value="Traps/trap_wood_spikes_dmg0"/> -->
    <property name="Weight" value="50"/>
    <property name="Explosion.ParticleIndex" value="1"/>
    <property name="Explosion.RadiusBlocks" value="1"/>
    <property name="Explosion.RadiusEntities" value="1"/>
    <property name="Explosion.BlastPower" value="10"/>
    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactSpawn, Mods" target="self" block="trapSpikesIronDmg0,trapSpikesIronDmg1,trapSpikesIronDmg2" dt="100"/>
    </effect_group>
  </item>


    <!-- rockResource02, rockResource
    explo 5 is very laggy
    -->
  <item name="Boulder"> <!-- OK for item with block mesh of an entity model (rock_resourcePrefab is a <Model> in blocks.xml)  -->
    <property name="Extends" value="ZBProjectile"/> 
    <property name="Meshfile" value="Entities/Resources/rock_resourcePrefab"/> 
    <property name="Weight" value="100"/>
    <!-- <property name="LightValue" value=".35"/> -->
    <!-- <property name="LightSource" value="lightSource"/> -->
    <!-- <property name="ActivateObject" value="lightSource"/> -->
    <!-- <property name="AlwaysActive" value="true"/> -->
    <property name="Explosion.ParticleIndex" value="13"/>
    <property name="Explosion.RadiusBlocks" value="2"/>
    <property name="Explosion.RadiusEntities" value="2"/>
    <property name="Explosion.BlastPower" value="5"/>
    <!-- <property name="Explosion.DamageBonus.stone" value=".1"/>
    <property name="Explosion.DamageBonus.metal" value="0"/>
    <property name="Explosion.DamageBonus.earth" value="0"/>
    <property name="Explosion.DamageBonus.water" value="0"/>
    <property name="Explosion.DamageBonus.wood" value="6"/> -->

    <effect_group tiered="false"> 
      <triggered_effect trigger="onProjectileImpact" action="ImpactFragment, Mods" target="self" item="rockFragment" rep="2" dt="100"/>
    </effect_group>

    <property name="ExplodeOnHit" value="true"/>
    <!-- <property name="StickPercent" value=".5"/> -->
    <!-- <property name="EconomicValue" value="41"/> -->
    <property name="Group" value="Ammo/Weapons"/>
    <property class="Action0">
      <property name="Class" value="ThrowAway"/>
      <!-- <property name="Hitmask_override" value="Arrow"/> unfortunately this cannot work without a serious rewrite of the hitmask system -->
      <!-- <property name="Delay" value="1.2"/> -->
      <property name="Explosion.ParticleIndex" value="7"/>
      <property name="Throw_strength_default" value="20"/>
      <property name="Throw_strength_max" value="50"/>
      <property name="Max_strain_time" value="1.25"/> <!-- "Max_strain_time": remplissage barre quand lancé -->
      <property name="Sound_start" value="swoosh"/>
    </property>
  </item>

  <item name="BoulderP">
     <property name="Extends" value="Boulder"/>
     <property name="Explosion.ParticleIndex" value="15"/>
  </item>
  <item name="BoulderP2">
     <property name="Extends" value="Boulder"/>
     <property name="Explosion.ParticleIndex" value="2"/>
  </item>
  <item name="BoulderP3">
     <property name="Extends" value="Boulder"/>
     <property name="Explosion.ParticleIndex" value="7"/>
  </item>

  <item name="BoulderTree">
     <property name="Extends" value="Boulder"/>
     <property name="Explosion.ParticleIndex" value="6"/>
     <property name="Meshfile" value="#Entities/Trees?White_Oak22Prefab.prefab"/>
     <property name="ModelOffset" value="0,-0.3,0"/>
     <property name="MultiBlockDim" value="1,4,1"/>
  </item>


<!-- <property name="Material" value="MoreStone"/>
	<property name="Shape" value="Ext3dModel"/> <property name="Texture" value="293"/>
	<property name="Mesh" value="models"/>
	<property name="ImposterDontBlock" value="true"/>
	<property name="Collide" value="movement,melee"/>
	<property name="Model" value="OutdoorDecor/stalactite01" param1="main_mesh"/>
	<drop event="Harvest" name="resourcePotassiumNitratePowder" count="21" tag="oreWoodHarvest"/>
	<drop event="Destroy" count="0"/>
	<drop event="Fall" name="resourcePotassiumNitratePowder" count="21" prob="0.4" stick_chance="0"/>
	<property name="FilterTags" value="foutdoor,fterrain"/> -->

  <item name="ProjStalagtic">
     <property name="Extends" value="Boulder"/>
     <property name="Explosion.ParticleIndex" value="15"/>
     <property name="Shape" value="Ext3dModel"/> <property name="Texture" value="293"/>
     <property name="Meshfile" value="models"/>
     <property name="ImposterDontBlock" value="true"/>
     <property name="Collide" value="movement,melee"/>
     <property name="Model" value="OutdoorDecor/stalactite03" param1="main_mesh"/>
  </item>


</append>
</configs>